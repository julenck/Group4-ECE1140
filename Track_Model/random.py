import numpy as np
import re
import plotly.graph_objects as go


class Section:
    def __init__(self, name, pixels):
        self.name = name
        self.pixels = pixels


# Define all 350 pixels exactly as provided
pixel_data = """Pixel 0: (np.int64(161), np.int64(1242))
Pixel 1: (np.int64(160), np.int64(1242))
Pixel 2: (np.int64(159), np.int64(1242))
Pixel 3: (np.int64(158), np.int64(1242))
Pixel 4: (np.int64(157), np.int64(1242))
Pixel 5: (np.int64(156), np.int64(1242))
Pixel 6: (np.int64(155), np.int64(1242))
Pixel 7: (np.int64(154), np.int64(1242))
Pixel 8: (np.int64(153), np.int64(1242))
Pixel 9: (np.int64(152), np.int64(1242))
Pixel 10: (np.int64(151), np.int64(1242))
Pixel 11: (np.int64(150), np.int64(1242))
Pixel 12: (np.int64(149), np.int64(1242))
Pixel 13: (np.int64(148), np.int64(1242))
Pixel 14: (np.int64(147), np.int64(1242))
Pixel 15: (np.int64(146), np.int64(1242))
Pixel 16: (np.int64(145), np.int64(1242))
Pixel 17: (np.int64(144), np.int64(1242))
Pixel 18: (np.int64(143), np.int64(1242))
Pixel 19: (np.int64(142), np.int64(1242))
Pixel 20: (np.int64(141), np.int64(1241))
Pixel 21: (np.int64(140), np.int64(1241))
Pixel 22: (np.int64(139), np.int64(1241))
Pixel 23: (np.int64(138), np.int64(1241))
Pixel 24: (np.int64(137), np.int64(1241))
Pixel 25: (np.int64(136), np.int64(1240))
Pixel 26: (np.int64(135), np.int64(1240))
Pixel 27: (np.int64(134), np.int64(1239))
Pixel 28: (np.int64(133), np.int64(1239))
Pixel 29: (np.int64(132), np.int64(1239))
Pixel 30: (np.int64(131), np.int64(1239))
Pixel 31: (np.int64(130), np.int64(1238))
Pixel 32: (np.int64(129), np.int64(1238))
Pixel 33: (np.int64(128), np.int64(1237))
Pixel 34: (np.int64(127), np.int64(1237))
Pixel 35: (np.int64(126), np.int64(1236))
Pixel 36: (np.int64(125), np.int64(1235))
Pixel 37: (np.int64(124), np.int64(1235))
Pixel 38: (np.int64(123), np.int64(1234))
Pixel 39: (np.int64(122), np.int64(1233))
Pixel 40: (np.int64(121), np.int64(1232))
Pixel 41: (np.int64(120), np.int64(1232))
Pixel 42: (np.int64(119), np.int64(1231))
Pixel 43: (np.int64(118), np.int64(1230))
Pixel 44: (np.int64(117), np.int64(1229))
Pixel 45: (np.int64(116), np.int64(1228))
Pixel 46: (np.int64(115), np.int64(1227))
Pixel 47: (np.int64(114), np.int64(1226))
Pixel 48: (np.int64(113), np.int64(1225))
Pixel 49: (np.int64(112), np.int64(1224))
Pixel 50: (np.int64(112), np.int64(1223))
Pixel 51: (np.int64(111), np.int64(1222))
Pixel 52: (np.int64(110), np.int64(1221))
Pixel 53: (np.int64(109), np.int64(1220))
Pixel 54: (np.int64(109), np.int64(1219))
Pixel 55: (np.int64(108), np.int64(1218))
Pixel 56: (np.int64(107), np.int64(1217))
Pixel 57: (np.int64(106), np.int64(1216))
Pixel 58: (np.int64(106), np.int64(1215))
Pixel 59: (np.int64(105), np.int64(1214))
Pixel 60: (np.int64(104), np.int64(1213))
Pixel 61: (np.int64(104), np.int64(1212))
Pixel 62: (np.int64(103), np.int64(1211))
Pixel 63: (np.int64(103), np.int64(1210))
Pixel 64: (np.int64(102), np.int64(1209))
Pixel 65: (np.int64(102), np.int64(1208))
Pixel 66: (np.int64(101), np.int64(1207))
Pixel 67: (np.int64(101), np.int64(1206))
Pixel 68: (np.int64(100), np.int64(1205))
Pixel 69: (np.int64(100), np.int64(1204))
Pixel 70: (np.int64(99), np.int64(1203))
Pixel 71: (np.int64(99), np.int64(1202))
Pixel 72: (np.int64(98), np.int64(1201))
Pixel 73: (np.int64(98), np.int64(1200))
Pixel 74: (np.int64(97), np.int64(1199))
Pixel 75: (np.int64(97), np.int64(1198))
Pixel 76: (np.int64(97), np.int64(1197))
Pixel 77: (np.int64(96), np.int64(1196))
Pixel 78: (np.int64(96), np.int64(1195))
Pixel 79: (np.int64(96), np.int64(1194))
Pixel 80: (np.int64(95), np.int64(1193))
Pixel 81: (np.int64(95), np.int64(1192))
Pixel 82: (np.int64(94), np.int64(1191))
Pixel 83: (np.int64(94), np.int64(1190))
Pixel 84: (np.int64(94), np.int64(1189))
Pixel 85: (np.int64(94), np.int64(1188))
Pixel 86: (np.int64(93), np.int64(1187))
Pixel 87: (np.int64(93), np.int64(1186))
Pixel 88: (np.int64(93), np.int64(1185))
Pixel 89: (np.int64(92), np.int64(1184))
Pixel 90: (np.int64(92), np.int64(1183))
Pixel 91: (np.int64(92), np.int64(1182))
Pixel 92: (np.int64(92), np.int64(1181))
Pixel 93: (np.int64(91), np.int64(1180))
Pixel 94: (np.int64(91), np.int64(1179))
Pixel 95: (np.int64(91), np.int64(1178))
Pixel 96: (np.int64(90), np.int64(1177))
Pixel 97: (np.int64(90), np.int64(1176))
Pixel 98: (np.int64(90), np.int64(1175))
Pixel 99: (np.int64(90), np.int64(1174))
Pixel 100: (np.int64(90), np.int64(1173))
Pixel 101: (np.int64(89), np.int64(1172))
Pixel 102: (np.int64(89), np.int64(1171))
Pixel 103: (np.int64(89), np.int64(1170))
Pixel 104: (np.int64(89), np.int64(1169))
Pixel 105: (np.int64(89), np.int64(1168))
Pixel 106: (np.int64(88), np.int64(1167))
Pixel 107: (np.int64(88), np.int64(1166))
Pixel 108: (np.int64(88), np.int64(1165))
Pixel 109: (np.int64(88), np.int64(1164))
Pixel 110: (np.int64(88), np.int64(1163))
Pixel 111: (np.int64(88), np.int64(1162))
Pixel 112: (np.int64(88), np.int64(1161))
Pixel 113: (np.int64(88), np.int64(1160))
Pixel 114: (np.int64(87), np.int64(1159))
Pixel 115: (np.int64(87), np.int64(1158))
Pixel 116: (np.int64(87), np.int64(1157))
Pixel 117: (np.int64(87), np.int64(1156))
Pixel 118: (np.int64(87), np.int64(1155))
Pixel 119: (np.int64(87), np.int64(1154))
Pixel 120: (np.int64(87), np.int64(1153))
Pixel 121: (np.int64(87), np.int64(1152))
Pixel 122: (np.int64(87), np.int64(1151))
Pixel 123: (np.int64(87), np.int64(1150))
Pixel 124: (np.int64(87), np.int64(1149))
Pixel 125: (np.int64(87), np.int64(1148))
Pixel 126: (np.int64(87), np.int64(1147))
Pixel 127: (np.int64(87), np.int64(1146))
Pixel 128: (np.int64(87), np.int64(1145))
Pixel 129: (np.int64(87), np.int64(1144))
Pixel 130: (np.int64(87), np.int64(1143))
Pixel 131: (np.int64(87), np.int64(1142))
Pixel 132: (np.int64(87), np.int64(1141))
Pixel 133: (np.int64(87), np.int64(1140))
Pixel 134: (np.int64(87), np.int64(1139))
Pixel 135: (np.int64(87), np.int64(1138))
Pixel 136: (np.int64(87), np.int64(1137))
Pixel 137: (np.int64(87), np.int64(1136))
Pixel 138: (np.int64(87), np.int64(1135))
Pixel 139: (np.int64(87), np.int64(1134))
Pixel 140: (np.int64(87), np.int64(1133))
Pixel 141: (np.int64(87), np.int64(1132))
Pixel 142: (np.int64(87), np.int64(1131))
Pixel 143: (np.int64(87), np.int64(1130))
Pixel 144: (np.int64(87), np.int64(1129))
Pixel 145: (np.int64(87), np.int64(1128))
Pixel 146: (np.int64(87), np.int64(1127))
Pixel 147: (np.int64(87), np.int64(1126))
Pixel 148: (np.int64(88), np.int64(1125))
Pixel 149: (np.int64(88), np.int64(1124))
Pixel 150: (np.int64(88), np.int64(1123))
Pixel 151: (np.int64(88), np.int64(1122))
Pixel 152: (np.int64(88), np.int64(1121))
Pixel 153: (np.int64(88), np.int64(1120))
Pixel 154: (np.int64(88), np.int64(1119))
Pixel 155: (np.int64(88), np.int64(1118))
Pixel 156: (np.int64(89), np.int64(1117))
Pixel 157: (np.int64(89), np.int64(1116))
Pixel 158: (np.int64(89), np.int64(1115))
Pixel 159: (np.int64(89), np.int64(1114))
Pixel 160: (np.int64(90), np.int64(1113))
Pixel 161: (np.int64(90), np.int64(1112))
Pixel 162: (np.int64(90), np.int64(1111))
Pixel 163: (np.int64(90), np.int64(1110))
Pixel 164: (np.int64(90), np.int64(1109))
Pixel 165: (np.int64(90), np.int64(1108))
Pixel 166: (np.int64(90), np.int64(1107))
Pixel 167: (np.int64(91), np.int64(1106))
Pixel 168: (np.int64(91), np.int64(1105))
Pixel 169: (np.int64(92), np.int64(1104))
Pixel 170: (np.int64(92), np.int64(1103))
Pixel 171: (np.int64(92), np.int64(1102))
Pixel 172: (np.int64(92), np.int64(1101))
Pixel 173: (np.int64(93), np.int64(1100))
Pixel 174: (np.int64(93), np.int64(1099))
Pixel 175: (np.int64(93), np.int64(1098))
Pixel 176: (np.int64(94), np.int64(1097))
Pixel 177: (np.int64(94), np.int64(1096))
Pixel 178: (np.int64(94), np.int64(1095))
Pixel 179: (np.int64(95), np.int64(1094))
Pixel 180: (np.int64(95), np.int64(1093))
Pixel 181: (np.int64(95), np.int64(1092))
Pixel 182: (np.int64(96), np.int64(1091))
Pixel 183: (np.int64(96), np.int64(1090))
Pixel 184: (np.int64(96), np.int64(1089))
Pixel 185: (np.int64(97), np.int64(1088))
Pixel 186: (np.int64(97), np.int64(1087))
Pixel 187: (np.int64(98), np.int64(1086))
Pixel 188: (np.int64(98), np.int64(1085))
Pixel 189: (np.int64(98), np.int64(1084))
Pixel 190: (np.int64(99), np.int64(1083))
Pixel 191: (np.int64(100), np.int64(1082))
Pixel 192: (np.int64(100), np.int64(1081))
Pixel 193: (np.int64(100), np.int64(1080))
Pixel 194: (np.int64(101), np.int64(1079))
Pixel 195: (np.int64(102), np.int64(1078))
Pixel 196: (np.int64(102), np.int64(1077))
Pixel 197: (np.int64(102), np.int64(1076))
Pixel 198: (np.int64(103), np.int64(1075))
Pixel 199: (np.int64(103), np.int64(1074))
Pixel 200: (np.int64(104), np.int64(1073))
Pixel 201: (np.int64(105), np.int64(1072))
Pixel 202: (np.int64(105), np.int64(1071))
Pixel 203: (np.int64(106), np.int64(1070))
Pixel 204: (np.int64(107), np.int64(1069))
Pixel 205: (np.int64(107), np.int64(1068))
Pixel 206: (np.int64(108), np.int64(1067))
Pixel 207: (np.int64(109), np.int64(1066))
Pixel 208: (np.int64(110), np.int64(1065))
Pixel 209: (np.int64(110), np.int64(1064))
Pixel 210: (np.int64(111), np.int64(1063))
Pixel 211: (np.int64(112), np.int64(1062))
Pixel 212: (np.int64(112), np.int64(1061))
Pixel 213: (np.int64(113), np.int64(1060))
Pixel 214: (np.int64(114), np.int64(1059))
Pixel 215: (np.int64(115), np.int64(1058))
Pixel 216: (np.int64(116), np.int64(1057))
Pixel 217: (np.int64(117), np.int64(1056))
Pixel 218: (np.int64(118), np.int64(1055))
Pixel 219: (np.int64(119), np.int64(1054))
Pixel 220: (np.int64(120), np.int64(1054))
Pixel 221: (np.int64(121), np.int64(1053))
Pixel 222: (np.int64(122), np.int64(1052))
Pixel 223: (np.int64(123), np.int64(1051))
Pixel 224: (np.int64(124), np.int64(1051))
Pixel 225: (np.int64(125), np.int64(1050))
Pixel 226: (np.int64(126), np.int64(1049))
Pixel 227: (np.int64(127), np.int64(1049))
Pixel 228: (np.int64(128), np.int64(1048))
Pixel 229: (np.int64(129), np.int64(1047))
Pixel 230: (np.int64(130), np.int64(1047))
Pixel 231: (np.int64(131), np.int64(1047))
Pixel 232: (np.int64(132), np.int64(1046))
Pixel 233: (np.int64(133), np.int64(1046))
Pixel 234: (np.int64(134), np.int64(1045))
Pixel 235: (np.int64(135), np.int64(1045))
Pixel 236: (np.int64(136), np.int64(1045))
Pixel 237: (np.int64(137), np.int64(1045))
Pixel 238: (np.int64(138), np.int64(1044))
Pixel 239: (np.int64(139), np.int64(1044))
Pixel 240: (np.int64(140), np.int64(1044))
Pixel 241: (np.int64(141), np.int64(1044))
Pixel 242: (np.int64(142), np.int64(1044))
Pixel 243: (np.int64(143), np.int64(1044))
Pixel 244: (np.int64(144), np.int64(1044))
Pixel 245: (np.int64(145), np.int64(1044))
Pixel 246: (np.int64(146), np.int64(1044))
Pixel 247: (np.int64(147), np.int64(1044))
Pixel 248: (np.int64(148), np.int64(1044))
Pixel 249: (np.int64(149), np.int64(1044))
Pixel 250: (np.int64(150), np.int64(1044))
Pixel 251: (np.int64(151), np.int64(1044))
Pixel 252: (np.int64(152), np.int64(1044))
Pixel 253: (np.int64(153), np.int64(1044))
Pixel 254: (np.int64(154), np.int64(1044))
Pixel 255: (np.int64(155), np.int64(1045))
Pixel 256: (np.int64(159), np.int64(1046))
Pixel 257: (np.int64(161), np.int64(1047))
Pixel 258: (np.int64(164), np.int64(1048))
Pixel 259: (np.int64(165), np.int64(1049))
Pixel 260: (np.int64(167), np.int64(1050))
Pixel 261: (np.int64(168), np.int64(1051))
Pixel 262: (np.int64(170), np.int64(1052))
Pixel 263: (np.int64(171), np.int64(1053))
Pixel 264: (np.int64(172), np.int64(1054))
Pixel 265: (np.int64(173), np.int64(1055))
Pixel 266: (np.int64(174), np.int64(1056))
Pixel 267: (np.int64(175), np.int64(1057))
Pixel 268: (np.int64(176), np.int64(1058))
Pixel 269: (np.int64(177), np.int64(1059))
Pixel 270: (np.int64(178), np.int64(1060))
Pixel 271: (np.int64(179), np.int64(1061))
Pixel 272: (np.int64(180), np.int64(1062))
Pixel 273: (np.int64(181), np.int64(1063))
Pixel 274: (np.int64(182), np.int64(1064))
Pixel 275: (np.int64(182), np.int64(1065))
Pixel 276: (np.int64(183), np.int64(1066))
Pixel 277: (np.int64(184), np.int64(1067))
Pixel 278: (np.int64(184), np.int64(1068))
Pixel 279: (np.int64(185), np.int64(1069))
Pixel 280: (np.int64(186), np.int64(1070))
Pixel 281: (np.int64(187), np.int64(1071))
Pixel 282: (np.int64(187), np.int64(1072))
Pixel 283: (np.int64(188), np.int64(1073))
Pixel 284: (np.int64(188), np.int64(1074))
Pixel 285: (np.int64(189), np.int64(1075))
Pixel 286: (np.int64(189), np.int64(1076))
Pixel 287: (np.int64(190), np.int64(1077))
Pixel 288: (np.int64(190), np.int64(1078))
Pixel 289: (np.int64(191), np.int64(1079))
Pixel 290: (np.int64(191), np.int64(1080))
Pixel 291: (np.int64(192), np.int64(1081))
Pixel 292: (np.int64(192), np.int64(1082))
Pixel 293: (np.int64(193), np.int64(1083))
Pixel 294: (np.int64(193), np.int64(1084))
Pixel 295: (np.int64(194), np.int64(1085))
Pixel 296: (np.int64(194), np.int64(1086))
Pixel 297: (np.int64(194), np.int64(1087))
Pixel 298: (np.int64(195), np.int64(1088))
Pixel 299: (np.int64(195), np.int64(1089))
Pixel 300: (np.int64(196), np.int64(1090))
Pixel 301: (np.int64(196), np.int64(1091))
Pixel 302: (np.int64(196), np.int64(1092))
Pixel 303: (np.int64(197), np.int64(1093))
Pixel 304: (np.int64(197), np.int64(1094))
Pixel 305: (np.int64(198), np.int64(1095))
Pixel 306: (np.int64(198), np.int64(1096))
Pixel 307: (np.int64(198), np.int64(1097))
Pixel 308: (np.int64(198), np.int64(1098))
Pixel 309: (np.int64(199), np.int64(1099))
Pixel 310: (np.int64(199), np.int64(1100))
Pixel 311: (np.int64(199), np.int64(1101))
Pixel 312: (np.int64(200), np.int64(1102))
Pixel 313: (np.int64(200), np.int64(1103))
Pixel 314: (np.int64(200), np.int64(1104))
Pixel 315: (np.int64(200), np.int64(1105))
Pixel 316: (np.int64(200), np.int64(1106))
Pixel 317: (np.int64(201), np.int64(1107))
Pixel 318: (np.int64(201), np.int64(1108))
Pixel 319: (np.int64(201), np.int64(1109))
Pixel 320: (np.int64(201), np.int64(1110))
Pixel 321: (np.int64(201), np.int64(1111))
Pixel 322: (np.int64(201), np.int64(1112))
Pixel 323: (np.int64(202), np.int64(1113))
Pixel 324: (np.int64(202), np.int64(1114))
Pixel 325: (np.int64(202), np.int64(1115))
Pixel 326: (np.int64(202), np.int64(1116))
Pixel 327: (np.int64(202), np.int64(1117))
Pixel 328: (np.int64(203), np.int64(1118))
Pixel 329: (np.int64(203), np.int64(1119))
Pixel 330: (np.int64(203), np.int64(1120))
Pixel 331: (np.int64(203), np.int64(1121))
Pixel 332: (np.int64(203), np.int64(1122))
Pixel 333: (np.int64(203), np.int64(1123))
Pixel 334: (np.int64(204), np.int64(1124))
Pixel 335: (np.int64(204), np.int64(1125))
Pixel 336: (np.int64(204), np.int64(1126))
Pixel 337: (np.int64(204), np.int64(1127))
Pixel 338: (np.int64(204), np.int64(1128))
Pixel 339: (np.int64(204), np.int64(1129))
Pixel 340: (np.int64(204), np.int64(1130))
Pixel 341: (np.int64(204), np.int64(1131))"""
pixels = []
for line in pixel_data.strip().splitlines():
    match = re.search(r"\((np\.int64\(\d+\)),\s*(np\.int64\(\d+\))\)", line)
    if match:
        x_val = eval(match.group(1))
        y_val = eval(match.group(2))
        pixels.append((x_val, -y_val))

# Create Section
section_P = Section("P", pixels)

# Prepare data for plotting
# Prepare data for plotting
x_vals = [p[0] for p in section_P.pixels]
y_vals = [p[1] for p in section_P.pixels]
hover_text = [f"Pixel ({x}, {y})" for x, y in section_P.pixels]

# Assign colors based on order
colors = list(range(len(x_vals)))

# Interactive scatter plot with gradient showing order
fig = go.Figure(
    data=go.Scatter(
        x=x_vals,
        y=y_vals,
        mode="markers",  # No lines
        marker=dict(
            size=5,
            color=colors,  # Gradient color based on order
            colorscale="Viridis",  # Or any other Plotly colorscale
            showscale=True,
        ),
        text=hover_text,  # Hover info
        hoverinfo="text",
    )
)

fig.update_layout(
    title=f"Interactive Pixel View: Section {section_P.name}",
    xaxis_title="X",
    yaxis_title="Y",
    yaxis=dict(scaleanchor="x", scaleratio=1),  # Keep aspect ratio
    template="plotly_white",
)

fig.show()
